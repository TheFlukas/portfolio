
&НаКлиенте
Процедура РасчитатьКоличествоСырья(Команда)    
	
	// Проверяем заполненность реквизитов
    Если Не ЗначениеЗаполнено(Объект.ТипПродукции) Или
       Не ЗначениеЗаполнено(Объект.ТипМатериала) Или
       Не ЗначениеЗаполнено(Объект.КоличествоПродукции) Или
       Не ЗначениеЗаполнено(Объект.Ширина) Или
       Не ЗначениеЗаполнено(Объект.Длина) Тогда
           
        Сообщить("Сначала заполните все необходимые реквизиты формы.");
        Возврат;
    КонецЕсли;

    // Если все заполнено — вызываем функцию
    Попытка 
        Объект.КоличествоСырья = ФункцииПроизводства.РассчитатьКоличествоСырья(
            Объект.ТипПродукции, 
            Объект.ТипМатериала, 
            Объект.КоличествоПродукции, 
            Объект.Ширина, 
            Объект.Длина
        );
    Исключение
        Сообщить("Ошибка при расчёте количества сырья: " + ОписаниеОшибки());  
	КонецПопытки;       
	
КонецПроцедуры
