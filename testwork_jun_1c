# 1C External Data Processor: Constant Editing

Внешняя обработка для работы с константой **"ПлатформыРезерв"** в конфигурации 1С:Предприятие 8.3 (Управляемые формы, версия 8.3.25.1257).

---

## Описание

Обработка предназначена для:

- Удаления всех **неключевых платформ** из константы `ПлатформыРезерв`.
- Отображения ключевых платформ в форме в виде таблицы, где каждая платформа – отдельная колонка.
- Поддержки различных типов хранения данных константы: строка с GUID, массив ссылок, таблица значений.
- Возможности обновления константы из справочника `Платформы`.

**Особенности:**

- Платформы упорядочены по убыванию `ЧисловойКод` на форме.
- Ссылки на платформы кликабельны, открывают основной элемент справочника.
- Вывод сообщения об удалённых неключевых платформах в формате:
Удалено платформ: 3 (SAP-1702, 1С-8325, Галактика-128)
- Проверка выбранного типа данных константы перед выполнением операций.

---

# Структура проекта

## Архив_базы
- [External_data_processor_constant_editing.epf](archive_base/External_data_processor_constant_editing.epf) – Внешняя обработка
- [platforms_config.dt](archive_base/platforms_config.dt) – Конфигурация справочника Платформы

## Документация
- [ТЗ 1C jun 29.04.docx](docs/ТЗ%201C%20jun%2029.04.docx) – Техническое задание

## Листинги
- ![Catalog_platforms_object_module_listing.png](listing/Catalog_platforms_object_module_listing.png) – Листинг модуля объекта "Платформы"
- ![Data_processor_constant_editing_form_listing.png](listing/Data_processor_constant_editing_form_listing.png) – Листинг формы обработки

## Скриншоты
- ![Catalog_platforms_element_form.png](screenshots/Catalog_platforms_element_form.png) – Форма элемента справочника Платформы
- ![Data_processor_form.png](screenshots/Data_processor_form.png) – Форма внешней обработки
- ![Catalog_platforms_list.png](screenshots/Catalog_platforms_list.png) – Список элементов справочника Платформы

---

## Инструкция пользователя

1. **Запуск обработки:**
   - Открыть внешний файл обработки `archive_base/External_data_processor_constant_editing.epf`.
   - На форме обработки выбрать тип данных константы (`Строка`, `Массив`, `Таблица значений`) в реквизите **ТипДанныхСодержимогоКонстанты**.

2. **Функции кнопок:**
   - **Обновить константу** – записывает в константу все платформы из справочника.
   - **Показать платформы** – отображает текущие платформы в константе в виде таблицы.
   - **Удалить не ключевые** – удаляет все платформы, у которых `Ключевая = Ложь`, и обновляет таблицу на форме.

3. **Ограничения и проверки:**
   - Перед выполнением любой операции необходимо выбрать тип данных константы.
   - Уникальность поля `ЧисловойКод` справочника `Платформы` контролируется модулем объекта справочника.

---

